<!--
    Template pour l'affichage des rÃ©actions aux messages
    
    Ce template gÃ¨re l'affichage des rÃ©actions pour les messages du forum.
    Il supporte deux modes :
    1. Mode interactif pour les utilisateurs connectÃ©s (ajout/suppression de rÃ©actions)
    2. Mode lecture seule pour les utilisateurs non connectÃ©s
    
    Variables utilisÃ©es :
    - S_REACTIONS_ENABLED : Indique si les rÃ©actions sont activÃ©es
    - S_IS_BOT : Indique si l'utilisateur est un bot
    - S_USER_LOGGED_IN : Indique si l'utilisateur est connectÃ©
    - POST_ID : ID du message
    - post_reactions : Boucle des rÃ©actions existantes
    - post_reactions.EMOJI : Emoji de la rÃ©action
    - post_reactions.COUNT : Nombre de rÃ©actions pour cet emoji
    - post_reactions.USERS : Liste des utilisateurs ayant rÃ©agi
    - post_reactions.USER_REACTED : Indique si l'utilisateur actuel a rÃ©agi
-->

<!-- ============================================================================= -->
<!-- MODE INTERACTIF POUR UTILISATEURS CONNECTÃ‰S -->
<!-- ============================================================================= -->
<!-- IF S_REACTIONS_ENABLED and not S_IS_BOT and S_USER_LOGGED_IN -->
<div class="post-reactions-container" data-post-id="{POST_ID}">
    <div class="post-reactions">
        <!-- Boucle des rÃ©actions existantes depuis la base de donnÃ©es -->
        <!-- BEGIN post_reactions -->
        <span class="reaction<!-- IF post_reactions.USER_REACTED --> active<!-- ENDIF -->"
              data-emoji="{post_reactions.EMOJI}"
              data-count="{post_reactions.COUNT}"
              data-users="{post_reactions.USERS}"
              title="{post_reactions.COUNT} rÃ©action<!-- IF post_reactions.COUNT != 1 -->s<!-- ENDIF -->"
              <!-- IF post_reactions.COUNT == 0 -->style="display: none;"<!-- ENDIF -->>
            {post_reactions.EMOJI}
            <span class="count">{post_reactions.COUNT}</span>
        </span>
        <!-- END post_reactions -->
        
        <!-- Bouton pour ouvrir la palette d'emojis -->
        <span class="reaction-more" title="Ajouter une rÃ©action">+</span>
    </div>
</div>

<!-- ============================================================================= -->
<!-- MODE LECTURE SEULE POUR UTILISATEURS NON CONNECTÃ‰S -->
<!-- ============================================================================= -->
<!-- ELSEIF S_REACTIONS_ENABLED and not S_IS_BOT and not S_USER_LOGGED_IN -->
<div class="post-reactions-container post-reactions-readonly" data-post-id="{POST_ID}">
    <div class="post-reactions">
        <!-- Boucle des rÃ©actions existantes (lecture seule) -->
        <!-- BEGIN post_reactions -->
            <!-- Afficher seulement les rÃ©actions avec un compteur > 0 -->
            <!-- IF post_reactions.COUNT > 0 -->
            <span class="reaction reaction-readonly"
                  data-emoji="{post_reactions.EMOJI}"
                  data-count="{post_reactions.COUNT}"
                  title="{post_reactions.COUNT} rÃ©action<!-- IF post_reactions.COUNT != 1 -->s<!-- ENDIF -->">
                {post_reactions.EMOJI}
                <span class="count">{post_reactions.COUNT}</span>
            </span>
            <!-- ENDIF -->
        <!-- END post_reactions -->
    </div>
</div>
<!-- ENDIF -->
